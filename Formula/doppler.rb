# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Doppler < Formula
  desc "The official Doppler CLI for managing your secrets"
  homepage "https://doppler.com"
  version "3.69.2"

  on_macos do
    on_intel do
      url "https://github.com/DopplerHQ/cli/releases/download/3.69.2/doppler_3.69.2_macOS_amd64.tar.gz"
      sha256 "d3d528437daca10323da02fecd1bef89cd34a6e4edcd506b0776b0d0b82282df"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    on_arm do
      url "https://github.com/DopplerHQ/cli/releases/download/3.69.2/doppler_3.69.2_macOS_arm64.tar.gz"
      sha256 "4321df406372b39a283a474b0ff2440873a07783b8559aff987d6db251d24e7b"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/DopplerHQ/cli/releases/download/3.69.2/doppler_3.69.2_linux_amd64.tar.gz"
        sha256 "d6bd2f7e3e85fc93876b06ec4c2554fe361c7d706df2a99deb12b87e39e9bfb0"

        def install
          bin.install "doppler"
          bash_completion.install "completions/doppler.bash" => "doppler"
          zsh_completion.install "completions/doppler.zsh" => "_doppler"
          fish_completion.install "completions/doppler.fish"
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/DopplerHQ/cli/releases/download/3.69.2/doppler_3.69.2_linux_armv6.tar.gz"
        sha256 "eb6f345127c6cf885f3174437f465be85678b5fee2c8551c7e273bf6ee44a182"

        def install
          bin.install "doppler"
          bash_completion.install "completions/doppler.bash" => "doppler"
          zsh_completion.install "completions/doppler.zsh" => "_doppler"
          fish_completion.install "completions/doppler.fish"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/DopplerHQ/cli/releases/download/3.69.2/doppler_3.69.2_linux_arm64.tar.gz"
        sha256 "08b1999dc07f8e15da1c4eeff859cb3895afe67534a73f411ce426a67c6be115"

        def install
          bin.install "doppler"
          bash_completion.install "completions/doppler.bash" => "doppler"
          zsh_completion.install "completions/doppler.zsh" => "_doppler"
          fish_completion.install "completions/doppler.fish"
        end
      end
    end
  end

  test do
    system "#{bin}/doppler --version"
  end
end
