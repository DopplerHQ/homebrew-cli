# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Doppler < Formula
  desc "The official Doppler CLI for managing your secrets"
  homepage "https://doppler.com"
  version "3.36.2"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/DopplerHQ/cli/releases/download/3.36.2/doppler_3.36.2_macOS_amd64.tar.gz"
      sha256 "e24e54734d0b291546f37d36a8bf00bc91e7b479e17c21dfc01671293b0f1956"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/DopplerHQ/cli/releases/download/3.36.2/doppler_3.36.2_macOS_arm64.tar.gz"
      sha256 "7524be5784d0592a18a9b5553e3d26a3f8ff37eea050b7a067fe924e68658c18"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/DopplerHQ/cli/releases/download/3.36.2/doppler_3.36.2_linux_armv6.tar.gz"
      sha256 "b9a748a1f0a919ca5fe8cff7bb95143319be87901e5725b7dcdf927f961000df"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/DopplerHQ/cli/releases/download/3.36.2/doppler_3.36.2_linux_arm64.tar.gz"
      sha256 "a6e6238def507ef12c2c6a8c4ec017291a34386d8e1eff11f7b183aa876f51e0"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/DopplerHQ/cli/releases/download/3.36.2/doppler_3.36.2_linux_amd64.tar.gz"
      sha256 "6026917aca7ea162e47124eb345e7c35f3c75b878046a4188326ddd4d8a6b457"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
  end

  test do
    system "#{bin}/doppler --version"
  end
end
