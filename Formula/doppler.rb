# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Doppler < Formula
  desc "The official Doppler CLI for managing your secrets"
  homepage "https://doppler.com"
  version "3.39.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/DopplerHQ/cli/releases/download/3.39.0/doppler_3.39.0_macOS_amd64.tar.gz"
      sha256 "f0ae86ec91d41fa5126942d0e3bbca60f93276e4d36213d45fe97e96062ae722"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/DopplerHQ/cli/releases/download/3.39.0/doppler_3.39.0_macOS_arm64.tar.gz"
      sha256 "ffe1e92de212a924ffe0a026213a2279d0dd987e73440312c8f607e5f574ac80"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/DopplerHQ/cli/releases/download/3.39.0/doppler_3.39.0_linux_amd64.tar.gz"
      sha256 "14aa4dd99c6df961ffe231b2c48be301016d3dbb4108cad5c469a6421a9f83d8"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/DopplerHQ/cli/releases/download/3.39.0/doppler_3.39.0_linux_armv6.tar.gz"
      sha256 "be86a70baf2020d34df07e4525820b9d0d2f3d15caf95d56fc0043af1cedccc1"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/DopplerHQ/cli/releases/download/3.39.0/doppler_3.39.0_linux_arm64.tar.gz"
      sha256 "2102a34152ad9aca16dacc4de893f9020a563effd0f635bccdeceb9258a6aa3b"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
  end

  test do
    system "#{bin}/doppler --version"
  end
end
