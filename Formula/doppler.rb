# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Doppler < Formula
  desc "The official Doppler CLI for managing your secrets"
  homepage "https://doppler.com"
  version "3.66.2"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/DopplerHQ/cli/releases/download/3.66.2/doppler_3.66.2_macOS_arm64.tar.gz"
      sha256 "b34e856349189e38f5e48a04118f185140cbe4b62d0c5b82f1d03365d7766152"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/DopplerHQ/cli/releases/download/3.66.2/doppler_3.66.2_macOS_amd64.tar.gz"
      sha256 "c54cf6d5aed155d5538b3c1f802f3bcb6ec60b869f5802ce231f03a8fbdf3acf"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/DopplerHQ/cli/releases/download/3.66.2/doppler_3.66.2_linux_armv6.tar.gz"
      sha256 "3981d341e4ea485172134a5f69e7685ec5ad1323c7f21f7e091f3eda825e3f33"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/DopplerHQ/cli/releases/download/3.66.2/doppler_3.66.2_linux_amd64.tar.gz"
      sha256 "fd280b6b6bf84ca3b9af8dac45e541a950be28d8d76561a9aa823c0b10bf6479"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/DopplerHQ/cli/releases/download/3.66.2/doppler_3.66.2_linux_arm64.tar.gz"
      sha256 "b70174db10adddb75deb7ef3e869ff086669ffbf22bafda00f91d2e8d08e1294"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
  end

  test do
    system "#{bin}/doppler --version"
  end
end
