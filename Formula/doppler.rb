# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Doppler < Formula
  desc "The official Doppler CLI for managing your secrets"
  homepage "https://doppler.com"
  version "3.40.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/DopplerHQ/cli/releases/download/3.40.0/doppler_3.40.0_macOS_amd64.tar.gz"
      sha256 "0ff994ce7a60ee3c0d745aa90b793fb17fa8bff5697cf78573bcd07e922f3a0c"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/DopplerHQ/cli/releases/download/3.40.0/doppler_3.40.0_macOS_arm64.tar.gz"
      sha256 "844e5f268e20ee37fa0d10a881eae8e3a58286fcf47c7f4a243bf3746507a80e"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/DopplerHQ/cli/releases/download/3.40.0/doppler_3.40.0_linux_armv6.tar.gz"
      sha256 "d63af0780f56a1ab93184ca49a05627c3d98069bec3b4d9890c80616e3e63d3c"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/DopplerHQ/cli/releases/download/3.40.0/doppler_3.40.0_linux_arm64.tar.gz"
      sha256 "b6235d6d28b1d99ceed6a3da6572d2d11d6aff0115c47f277f82fe004bf86ac7"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/DopplerHQ/cli/releases/download/3.40.0/doppler_3.40.0_linux_amd64.tar.gz"
      sha256 "64e97691bbda2466c2b5d77eb48c558772b9ef3b8bcaa91f87c8e12b8093e765"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
  end

  test do
    system "#{bin}/doppler --version"
  end
end
