# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Doppler < Formula
  desc "The official Doppler CLI for managing your secrets"
  homepage "https://doppler.com"
  version "3.56.2"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/DopplerHQ/cli/releases/download/3.56.2/doppler_3.56.2_macOS_arm64.tar.gz"
      sha256 "b927b0a3cb76bedec7f83f782e522b2982f7892b337ba15c8a15b36d0569b78e"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/DopplerHQ/cli/releases/download/3.56.2/doppler_3.56.2_macOS_amd64.tar.gz"
      sha256 "22c6ecae69f8ac5621223b4273a0a16b2aacb5009875a1d40ee7271a9c93b90a"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/DopplerHQ/cli/releases/download/3.56.2/doppler_3.56.2_linux_armv6.tar.gz"
      sha256 "19ac9dc09e4a574730b2de055404970eb19c78a79f28604b348755d5c5031ebb"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/DopplerHQ/cli/releases/download/3.56.2/doppler_3.56.2_linux_amd64.tar.gz"
      sha256 "fcb41bcad02a397a7576d567614e6d8205d0ba92a3dfb4f7dc9fdb210c1a3249"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/DopplerHQ/cli/releases/download/3.56.2/doppler_3.56.2_linux_arm64.tar.gz"
      sha256 "401bec4906387080dfb242dac7553db4d6a61111314c456e0edd19f500fdaabe"

      def install
        bin.install "doppler"
        bash_completion.install "completions/doppler.bash" => "doppler"
        zsh_completion.install "completions/doppler.zsh" => "_doppler"
        fish_completion.install "completions/doppler.fish"
      end
    end
  end

  test do
    system "#{bin}/doppler --version"
  end
end
